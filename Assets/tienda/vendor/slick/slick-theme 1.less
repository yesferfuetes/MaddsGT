var WSB;(function(n){function wr(n,i){var r=[],u,f;if(i)if(n)r=i.slice();else{u=function(n){var t=i.find(function(t){return t.verb&&t.verb.toLocaleLowerCase()==n.toLocaleLowerCase()});t&&r.push(t)};for(f in t)u(f)}return r}function br(n){return n?n.filter(function(n){return!n.verb||n.verb.toLowerCase()!="open"}):[]}function f(t,i,r,u,f,e){e()&&(t=t.slice(),i.getExtraVerbsAsync?n.Async.safeChain("getExtraVerbsAsync",function(){return i.getExtraVerbsAsync(u)},function(n){return l(ft(t,n,!0),i,u,f,e)},function(){return l(t,i,u,f,e)},null,r):l(t,i,u,f,e))}function l(n,t,i,r,u){if(u()){var f=t.getExtraVerbs?ft(n,t.getExtraVerbs(i),!1):n;f[0]==b&&f.shift();r(f)}}function kr(i,r,u,f){return i.map(function(i){var e,o,s,h;if(i.verb){switch(i.verb.toLocaleLowerCase()){case dt:e="PinnedToStart";break;case g:e="PinnedToTaskbar";break;case gt:e="UnpinnedFromStart";break;case nt:e="UnpinnedFromTaskbar";break;case kt:o=n.config.useCobaltCSS?"UninstallMessage":"UninstallConfirmation";e="UninstallationInProgress";break;case ar:e="PathCopied"}return s=function(t){t();n.RuntimeConfig.AlwaysWide&&e=="UninstallationInProgress"?(r.uninstallationInProgress=!0,f&&f()):e?u.showTemporaryMessage(n.Host.getLocString(e,HitHighlightingParser.removeMarkers(r.text))):u.hideTemporaryMessage();i.verb.toLocaleLowerCase()==g&&n.Host.addItemToPinnedToTaskbar(r.deviceItem.id);i.verb.toLocaleLowerCase()==nt&&n.Host.removeItemFromPinnedToTaskbar(r.deviceItem.id)},h=i.icon||t[i.verb.toLocaleLowerCase()],new n.DeviceItemVerbWrapper(i,h,function(t){o&&n.DialogBox?n.DialogBox.show(n.Host.getLocString(o),[{id:null,text:i.displayName,action:function(){return s(t)},selected:!1,useAccentColor:n.config.useCobaltCSS?!0:!1},{id:null,text:n.Host.getLocString("Cancel"),selected:!0}],n.config.useCobaltCSS?n.Host.getLocString("UninstallConfirmationTitle",HitHighlightingParser.removeMarkers(r.text)):""):s(t)})}return i})}function ii(t,i,r,u,e,o){if(n.isJumpListSuggestion(i))return n.Async.safeChain("jumpListItem.getVerbsAsync",function(){return i.jumpListItem.getVerbsAsync()},function(n){return f(br(n),i,s,u,e,o)},function(){return f([],i,s,u,e,o)},null,t+" "+i.type),!0;var s=t+" "+i.type,h=n.getItemWithFileMetadata(i);return h&&h.canHaveContextMenu?(n.Async.safeChain("item.getVerbsAsync",function(){return h.getVerbsAsync()},function(n){return f(wr(r,n),i,s,u,e,o)},function(){return f([],i,s,u,e,o)},null,s),!0):i.getExtraVerbsAsync?(f([],i,s,u,e,o),!0):i.getExtraVerbs?(l([],i,u,e,o),!0):(u&&e([]),!1)}function e(n,t,i){var r=HitHighlightingParser.removeMarkers(n.text),u=r?r.length:0;return n.additionalInfoText&&!i&&(u+=n.additionalInfoText.length),u>(i?cr:lr)}function ri(n){for(var i,r={topResults:n.topResults.slice(0),groups:[]},t=0,u=n.groups;t<u.length;t++)i=u[t],r.groups.push({typeWithSource:i.typeWithSource,suggestions:i.suggestions.slice(0)});return r}function ui(t,i){if(t.isHtmlAnswer)return bi;if(t.grid)return(i?n.IconSize_GridLayout:n.IconSize_GridLayout_Medium)+2*r;var u=t.numberOfLines==3?wi:t.numberOfLines==2?pi:yi;return t.mainTextWrapsToTwoLines&&(u+=lt),u<ct&&(u=ct),u}function dr(t,i){if(i&&n.uses3lineTemplate(n.getScope(i.type)))return ui({mainTextWrapsToTwoLines:!1,numberOfLines:3,isHtmlAnswer:!1,isSuppressed:t.isSuppressed,grid:!1},!1);if(t.isSuppressed)return 0;var r=ai;return t.hasTwoLines?r+=v+2:t.mainTextWrapsToTwoLines&&(r+=lt),r}function gr(t,i){var r=ht;if(i.typeWithSource&&n.displayedInGridLayout(i.typeWithSource.type)){var u=n.isL2(t),f=Math.ceil(i.suggestions.length/(u?wt:bt)),e=u?vt:yt;r+=e*f;r+=2*y}else i.suggestions.forEach(function(n){return r+=dr(n,i.typeWithSource)});return r}function nu(n){switch(n){case 0:return"CP";case 7:return"DI";case 1:return"PP";case 2:return"PD";case 4:return"SP";case 5:return"TP";case 6:return"SD"}return undefined}function ft(n,t,i){if(n.length>0&&t.length>0){var r=i?n.concat(b):n;return r.concat(t)}return n.length>0?n:t.length>0?i?[b].concat(t):t:[]}function i(t,i){return t.find(function(t){return n.sameGroup(t.typeWithSource,i)})}function fi(t,i){return t.find(function(t){return n.sameGroup(t.group.typeWithSource,i)})}function ei(n,t){return n.queryToFetch.substring(0,t.queryToFetch.lastIndexOf("\\